<div layout="row" layout-align="center">
  <md-whiteframe layout="column" flex flex-md="75" flex-lg="75" flex-gt-lg="75" class="md-whiteframe-2dp">

    <md-toolbar ng-show="!showSearch" class="md-hue-3" layout="column" layout-align="end">
      <div layout="row" class="md-toolbar-tools">
        <h3> Nombramientos </h3>

        <span flex></span>

        <ordenar on-change="lsNombramientosEnc.sortChanged(sort)" property="nombramiento" order="1"></ordenar>

        <md-select class="md-no-underline" ng-model="lsNombramientosEnc.showNombramientos" placeholder="Nombramientos">
          <md-option ng-value="0"> Todos </md-option>
          <md-option ng-value="1"> Aprobados </md-option>
          <md-option ng-value="2"> Pendientes </md-option>
        </md-select>

        <md-button aria-label="search" ng-click="showSearch = !showSearch">
          <md-icon md-svg-icon="action:ic_search_24px"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-toolbar class="md-hue-1" ng-show="showSearch">
      <div class="md-toolbar-tools">
        <md-button ng-click="showSearch = !showSearch" aria-label="back">
          <md-icon md-svg-icon="navigation:ic_arrow_back_24px"></md-icon>
        </md-button>

        <md-input-container flex md-no-float class="md-primary md-hue-3 md-body-1 search-input">
          <input type="search" ng-model="lsNombramientosEnc.searchText" placeholder="Buscar">
        </md-input-container>
      </div>
    </md-toolbar>

    <md-content>
      <md-list flex layout-margin>
        <md-list-item class="md-3-line"
          dir-paginate="nombramiento in lsNombramientosEnc.nombramientos | itemsPerPage: lsNombramientosEnc.perPage"
          total-items="lsNombramientosEnc.nombramientosCount">
          <div class="md-list-item-text" layout="column">
            <h3>  {{ nombramiento.nombramiento }} </h3>
            <h4> Lugares de comision: {{ nombramiento.datos_comision.lugares.length }} </h4>
            <p> {{ nombramiento.datos_comision.motivo }} </p>
          </div>

          <div>
            <md-button ui-sref="detallesNombramiento({ nombramientoId: nombramiento._id })">Editar</md-button>
            <md-button ui-sref="planillas({ nombramientoId: nombramiento._id })">Planillas</md-button>
            <nombramiento-pdf nombramiento="nombramiento"></nombramiento-pdf>
            <aprobar-comision comision='nombramiento'></aprobar-comision>
          </div>
          <md-divider></md-divider>
        </md-list-item>
      </md-list>

      <div layout="row" layout-align="center">
        <dir-pagination-controls on-page-change="lsNombramientosEnc.pageChanged(newPageNumber)"></dir-pagination-controls>
      </div>

    </md-content>

  </md-whiteframe>
</div>
