<div layout="row" layout-align="center">
  <md-whiteframe layout="column" flex flex-md="75" flex-lg="75" flex-gt-lg="75" class="md-whiteframe-2dp">

    <md-toolbar ng-show="!showSearch" class="md-hue-3" layout="column" layout-align="end">
      <div layout="row" class="md-toolbar-tools">
        <h3> Nombramientos </h3>

        <span flex></span>

        <ordenar on-change="lsNombramientosAdm.sortChanged(sort)" property="nombramiento" order="1"></ordenar>

        <md-button aria-label="depencencias" ng-click="showDependencia = !showDependencia">
          <md-icon md-svg-icon="action:ic_account_balance_24px"></md-icon>
        </md-button>

        <md-button aria-label="search" ng-click="showSearch = !showSearch">
          <md-icon md-svg-icon="action:ic_search_24px"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-toolbar class="md-hue-4" ng-show="showDependencia">
      <div class="md-toolbar-tools" layout="column">
        <md-select class="md-no-underline" ng-model="lsNombramientosAdm.dependencia" placeholder="Dependencia">
          <md-option ng-repeat="dependencia in lsNombramientosAdm.dependencias" ng-value="dependencia._id">
            {{ dependencia.nombre }} - {{ dependencia._id }}
          </md-option>
        </md-select>
      </div>
    </md-toolbar>

    <md-toolbar class="md-hue-1" ng-show="showSearch">
      <div class="md-toolbar-tools">
        <md-button ng-click="showSearch = !showSearch" aria-label="back">
          <md-icon md-svg-icon="navigation:ic_arrow_back_24px"></md-icon>
        </md-button>

        <md-input-container flex md-no-float class="md-primary md-hue-3 md-body-1 search-input">
          <input type="search" ng-model="lsNombramientosAdm.searchText" placeholder="Buscar">
        </md-input-container>
      </div>
    </md-toolbar>

    <md-content>
      <md-list flex layout-margin>
        <md-list-item class="md-3-line"
          dir-paginate="nombramiento in lsNombramientosAdm.nombramientos | itemsPerPage: lsNombramientosAdm.perPage"
          total-items="lsNombramientosAdm.nombramientosCount">
          <div class="md-list-item-text" layout="column">
            <h3>  {{ nombramiento.nombramiento }} </h3>
            <h4> Lugares de comision: {{ nombramiento.datos_comision.lugares.length }} </h4>
            <p> {{ nombramiento.datos_comision.motivo }} </p>
          </div>

          <div>
            <md-button ui-sref="detallesNombramiento({ nombramientoId: nombramiento._id })">Editar</md-button>
            <md-button ui-sref="planillas({ nombramientoId: nombramiento._id })">Planillas</md-button>
            <nombramiento-pdf nombramiento="nombramiento"></nombramiento-pdf>
          </div>
          <md-divider></md-divider>
        </md-list-item>
      </md-list>

      <div layout="row" layout-align="center">
        <dir-pagination-controls on-page-change="lsNombramientosAdm.pageChanged(newPageNumber)"></dir-pagination-controls>
      </div>

    </md-content>

  </md-whiteframe>
</div>
